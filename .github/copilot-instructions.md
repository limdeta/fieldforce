<!-- –°–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ README.md, docs/ –∏ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ lib/ -->
# fieldforce ‚Äî –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è AI-–∫–æ–¥–∏–Ω–≥–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

–≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–∞—ë—Ç –∫—Ä–∞—Ç–∫–∏–µ, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º.

1) –ö—Ä–∞—Ç–∫–∞—è —Å—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –º–æ–¥—É–ª—å–Ω–æ–µ Flutter-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –∫–∞–∂–¥–∞—è —Ñ–∏—á–∞ –∂–∏–≤—ë—Ç –≤ `lib/features/`. –ü–∞–ø–∫–∞ `app/` ‚Äî —É—Ä–æ–≤–µ–Ω—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä–∞–Ω–∏—Ü—ã, DI, —Ñ–∏–∫—Å—Ç—É—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã). –°–º. `docs/APP_LAYER_ARCHITECTURE.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `lib/main.dart`. –û–Ω–∞ —á–∏—Ç–∞–µ—Ç `AppConfig` (dart-define), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (prod vs test) –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã/–º–µ–Ω–µ–¥–∂–µ—Ä—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.

–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ‚Äî –¥–ª—è —á–µ–≥–æ –æ–Ω–æ
- –≠—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –∏ —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä–æ–≤.
- –°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–Ω–µ –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏) —Å–æ–∑–¥–∞—ë—Ç —Å—É—â–Ω–æ—Å—Ç–∏ ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã, –∑–∞–¥–∞—á–∏, –ø–ª–∞–Ω—ã –∏ —Ç.–¥. –≠—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–æ—Ä–≥–æ–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º (–¢–ü).
- –¢–ü –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –æ–±—ä–µ–∑–∂–∞—é—Ç –º–∞—Ä—à—Ä—É—Ç—ã, –ø–æ—Å–µ—â–∞—é—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞—á–∏, –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é GPS –≥–¥–µ –∏ –∫–æ–≥–¥–∞ –¢–ü –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –∏ –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç.
- –í —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –±—ç–∫–µ–Ω–¥ –∫–∞–∫ –≤–Ω–µ—à–Ω—é—é —Å–∏—Å—Ç–µ–º—É –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ-—Ñ–µ–π–∫–æ–≤—ã–µ (—Ñ–∏–∫—Å—Ç—É—Ä—ã) —Å –ø–æ–º–æ—â—å—é `DevFixtureOrchestrator`.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω-–ø–µ—Ä–≤–∏—á–Ω–æ–µ (offline-first): –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –≤ —Å–µ—Ç—å. –û–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ –¢–ü —á–∞—Å—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ñ—Ñ–ª–∞–π–Ω –∏ –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö ‚Äî —Ñ–æ–∫—É—Å –Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —ç–∫–æ–Ω–æ–º–∏—é –±–∞—Ç–∞—Ä–µ–∏ –∏ —Ç—Ä–∞—Ñ–∏–∫–∞.
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º `integration_test` –¥–ª—è end-to-end —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–≤ –±—É–¥—É—â–µ–º –≤–æ–∑–º–æ–∂–Ω–æ BDD). Unit-—Ç–µ—Å—Ç—ã –≤–∞–∂–Ω—ã; TDD –∂–µ–ª–∞—Ç–µ–ª–µ–Ω, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω–∏–º.
- –°—Ç–∞—Ä–∞–π—Å—è –¥–µ–ª–∞—Ç—å –º–µ–Ω—å—à–µ "–∑–∞–≥–ª—É—à–µ–∫ —Ä–∞–¥–∏ —Ç–æ–≥–æ —á—Ç–æ-–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ" —á–∞—Å—Ç–æ —ç—Ç–æ –≤—ã–ª–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞ —Ç–∏–ø–∞ findOneImportEntityBy ?? 1 . –ì–¥–µ –≤–º–µ—Å—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –∏ –æ–±–¥—É–º—ã–≤–∞–Ω–∏—è –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ —Å—Ç—Ä–æ–∏—Ç—å—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –º—ã –ø—Ä–∏–±–µ–≥–∞–µ–º –∫ –∑–∞–≥–ª—É—à–∫–∞–º. –ï—Å–ª–∏ –¥–µ–ª–∞–µ—à—å –∑–∞–≥–ª—É—à–∫–∏ —Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞–π –∏ –æ—Å—Ç–∞–≤–ª—è–π –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–π TODO –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

2) –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Ä–∞–±–æ—á–∏–µ –ø–æ—Ç–æ–∫–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (drift / build_runner):
  - `flutter pub run build_runner build --delete-conflicting-outputs`
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:
  - `flutter test`
- –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (Windows):
  - `flutter test .\\integration_test\\login_test.dart -d windows --dart-define=ENV=dev`
- –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ (dev ‚Äî —Ñ–∏–∫—Å—Ç—É—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
  - `flutter run -d windows --dart-define=flutter.flutter_map.unblockOSM="Our tile servers are not." --dart-define=ENV=dev`
- –°–±–æ—Ä–∫–∞ —Ä–µ–ª–∏–∑–∞ (APK / Windows):
  - `flutter build apk --dart-define=ENV=prod --release`
  - `flutter build windows --dart-define=ENV=prod --release`

3) DI –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: `lib/app/di/service_locator.dart` (prod) –∏ `lib/app/di/test_service_locator.dart` (dev/test). –í `main.dart` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `AppConfig.configureFromArgs()` –∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω—É–∂–Ω—ã–π DI.
- –§–ª–∞–≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `lib/app/config/app_config.dart`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--dart-define=ENV=dev|prod` –∏ –¥—Ä—É–≥–∏–µ —Ñ–ª–∞–≥–∏ –≤ `AppConfig` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π–ª–æ–≤, —á–µ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, mock GPS –∏ —Ç.–¥.).

4) –§–∏–∫—Å—Ç—É—Ä—ã, —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ GPS-mock
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Ñ–∏–∫—Å—Ç—É—Ä: `lib/app/fixtures/dev_fixture_orchestrator.dart` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –º–∞—Ä—à—Ä—É—Ç—ã, —Ç–æ—á–∫–∏ –∏ —Ç—Ä–µ–∫–∏ –≤ dev —Ä–µ–∂–∏–º–µ.
- `GpsDataManager` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç mock-—Ä–µ–∂–∏–º (–≤ `test_service_locator.dart` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å `GpsMode.mock`) –∏ —Ä–µ–∞–ª—å–Ω—ã–π GPS –≤ –ø—Ä–æ–¥–µ.

** –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏:**
- **DevFixtureOrchestrator** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ñ–∏–∫—Å—Ç—É—Ä
- **FixtureService** –º–æ–¥—É–ª–µ–π (ProductFixtureService, OrderFixtureService –∏ —Ç.–¥.) - —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ —Å –ª–æ–≥–∏–∫–æ–π —Å–æ–∑–¥–∞–Ω–∏—è, –ù–ï —Å–æ–∑–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
- **–°—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫**: —Å–Ω–∞—á–∞–ª–∞ –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–æ–¥—É–∫—Ç—ã), –ø–æ—Ç–æ–º –∑–∞–≤–∏—Å–∏–º—ã–µ (–∑–∞–∫–∞–∑—ã, —Ç—Ä–µ–∫–∏)
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ**: –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –≤ DevFixtureOrchestrator, OrderFixtureService –ù–ï –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**: FixtureService –ø–æ–ª—É—á–∞–µ—Ç Repository/UseCase —á–µ—Ä–µ–∑ DI, –Ω–æ —Å–∞–º –Ω–µ —Ä–µ—à–∞–µ—Ç –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

5) –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –ò–∑–æ–ª—è—Ü–∏—è —Ñ–∏—á: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏—á –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `lib/features/<feature>/` —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º domain / data / presentation. –õ–æ–≥–∏–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –≤ `lib/app/`.
- BLoC: –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BLoC (—Å–º. `docs/BLOC_REFACTORING_SUMMARY.md`). –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `bloc/` (events, states, bloc), `page.dart` –¥–ª—è UI, `usecases` –≤ domain. DI ‚Äî —á–µ—Ä–µ–∑ GetIt.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: Drift; —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `lib/app/database/repositories/`. –í DI —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è `AppDatabase.withFile(AppConfig.databaseName)`.

6) –¢–µ—Å—Ç—ã –∏ CI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –¢–µ—Å—Ç—ã –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ `test_service_locator` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ DI (setupTestServiceLocator) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç DB –∏ mock-–æ–±—ä–µ–∫—Ç—ã.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—Ç `--dart-define=ENV=dev` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∏–∫—Å—Ç—É—Ä.

7) –§–∞–π–ª—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- DI –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è: `lib/app/di/service_locator.dart`, `lib/app/di/test_service_locator.dart`
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤: `lib/main.dart`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è app-—É—Ä–æ–≤–Ω—è: `docs/APP_LAYER_ARCHITECTURE.md`
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ BLoC: `docs/BLOC_REFACTORING_SUMMARY.md`
- –§–∏–∫—Å—Ç—É—Ä—ã: `lib/app/fixtures/`, `lib/features/*/data/fixtures/`

8) –ü—Ä–∏–º–µ—Ä—ã –∏ —à–∞–±–ª–æ–Ω—ã (–¥–ª—è PR)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã-—Ñ–∏—á–∏: –ø–æ–ª–æ–∂–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ `app/presentation/pages/`, —Å–æ–∑–¥–∞–π—Ç–µ BLoC –≤ `feature/.../presentation/bloc/`, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ use-cases/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ `service_locator.dart` –∏ –¥–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç –≤ `main.dart`.
- –°–æ–∑–¥–∞–Ω–∏–µ dev-—Ñ–∏–∫—Å—Ç—É—Ä: –¥–æ–±–∞–≤—å—Ç–µ FixtureService, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ `test_service_locator.dart` –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –≤ `DevFixtureOrchestrator`.

9) –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥–ª—É—à–∫–∞–º–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. README –ø—Ä—è–º–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç: —Ö—Ä–∞–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã –∫–∞–∫ –º–æ–∫/–∑–∞–≥–ª—É—à–∫–∏.
- –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã. –ò–º—è –ë–î –∏ —Ñ–ª–∞–≥–∏ –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è `AppConfig` –∏ `--dart-define`.

10) –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–∞–∂–Ω–æ)
- –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç `logging`. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ `print(...)` –∏–ª–∏ `debugPrint(...)` –≤ –∫–æ–¥–µ ‚Äî –º—ã –∏—Ö –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–¥–∞–ª—è–µ–º –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ `logging`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥–≥–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞/–º–æ–¥—É–ª—è. –ü—Ä–∏–º–µ—Ä (–∫–∞–∫ –≤ `TileCacheService`):

```dart
class TileCacheService {
  static final Logger _logger = Logger('TileCacheService');
  // ...existing code...
}
```

- –í `main.dart` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∏ —Å–ª—É—à–∞—Ç–µ–ª—å –∑–∞–ø–∏—Å–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```dart
Logger.root.level = Level.INFO; // –∏–ª–∏ Level.FINER –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
Logger.root.onRecord.listen((record) {
  debugPrint('${record.level.name}: ${record.time}: ${record.message}');
});
```

- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `severe` –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫, `warning` –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, `info` –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π, `fine/finer` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏. –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã/–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –î–ª—è –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `error` –∏ `stackTrace` –≤ `_logger.severe(...)` –∏–ª–∏ `_logger.shout(...)`, —á—Ç–æ–±—ã –∑–∞–ø–∏—Å–∏ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É:

```dart
try {
  // ...
} catch (e, st) {
  _logger.severe('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–ª–∞', e, st);
}
```

- –í —Ç–µ—Å—Ç–∞—Ö –∏ CI —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–ø–∏—Å–∏ –≤ —Ç–µ—Å—Ç–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –∏–∑–±–µ–≥–∞—Ç—å —à—É–º–Ω—ã—Ö –ª–æ–≥–æ–≤.
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º–æ–¥–∑–∏ –≤ –∫–æ–¥–µ –∏ –ª–æ–≥–∞—Ö** ‚Äî —ç–º–æ–¥–∑–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —á–∞—Ç-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è—Ö —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –í –∫–æ–¥–µ, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –ª–æ–≥–∞—Ö, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ commit-—Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç.

## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

**üö´ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `flutter run`
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –¥–∞—Ç—å —Ñ–∏–¥–±–µ–∫
- –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ UI/–ª–æ–≥–∏–∫—É –≥–æ–≤–æ—Ä–∏ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: "–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç"
- –ñ–¥–∏ —Ñ–∏–¥–±–µ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º

**üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏–ª–∏ –ª–æ–≥–∏–∫–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ù–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–π, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ë—É–¥—å –≥–æ—Ç–æ–≤ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–¥–±–µ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ú–æ–¥—É–ª—å Shop (features/shop) - –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–∫–∞–∑–æ–≤ –∏ –∫–æ—Ä–∑–∏–Ω—ã:**
- `Order` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (draft, submitted, approved, etc.)
- `OrderLine` - —Å—Ç—Ä–æ–∫–∞ –∑–∞–∫–∞–∑–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç StockItem + Product? + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ + —Ü–µ–Ω–∞
- –ö–æ—Ä–∑–∏–Ω–∞ = Order –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "draft" —Å –Ω–∞–±–æ—Ä–æ–º OrderLine

**üõí –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:**
- **UI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–≥—Ä–µ–≥–∞—Ç–∞–º–∏**: OrderLine —Å–æ–¥–µ—Ä–∂–∏—Ç Product –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π, –∞—Ä—Ç–∏–∫—É–ª–æ–≤
- **Repository –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –º–µ—Ç–æ–¥ _getOrderLines –¥–µ–ª–∞–µ—Ç JOIN —Å Product –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è OrderLine.product
- **–ì–µ—Ç—Ç–µ—Ä—ã –¥–ª—è UI**: OrderLine.productTitle, OrderLine.productVendorCode, OrderLine.warehouseName —É–ø—Ä–æ—â–∞—é—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–ò–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π**: –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç CartItem –≤ –ø–æ–ª—å–∑—É —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ OrderLine

- StockItem —Å–≤—è–∑—ã–≤–∞–µ—Ç Product —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–∫–ª–∞–¥–æ–º –∏ —Ü–µ–Ω–∞–º–∏
- UpdateCartItemUseCase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç StockItemRepository –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏ –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å quantity = 0 –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- –§–∏–∫—Å—Ç—É—Ä—ã —Å–æ–∑–¥–∞—é—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ Product+StockItem+OrderLine –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**‚ö†Ô∏è catalogId:** –ø–æ–ª–µ `catalogId` –ø–æ–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–æ–¥–µ–ª—è—Ö –∏ –ë–î —Ç–æ–ª—å–∫–æ —Ä–∞–¥–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –æ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–æ deprecated. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤, –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –ª—é–±—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ `code`. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –±–µ—Ä—ë–º –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑ `categoriesInstock` (–æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–∞–∫–∂–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è —Ç–∞–º), –ø–æ—ç—Ç–æ–º—É –ª—é–±—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ –¥–µ—Ä–µ–≤—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–ø–∏—Ä–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫.

**üîÑ –ü–∞—Ç—Ç–µ—Ä–Ω —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π:**
1. GetCurrentCartUseCase –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Order —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ OrderLine (–≤–∫–ª—é—á–∞—è Product)
2. CartBloc –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Order.lines –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—ã–µ –≥–µ—Ç—Ç–µ—Ä—ã
3. UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç OrderLine.productTitle, orderLine.warehouseName –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
